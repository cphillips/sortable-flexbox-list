<!DOCTYPE html>
<html lang="en">
  	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Polymer â€¢ SortableList</title>
		<link rel="stylesheet" href="app.css">

    	<script src="bower_components/platform/platform.js"></script>
   		<link rel="import" href="elements/my-tasks.html">
  	</head>
  	<body>
		<header>
			<h1>tasks</h1>
		</header>
		<section id="exampleApp">
			<section id="main">
				<button>Change CSS `flex-direction`</button>
			    <my-tasks unresolved>
					<li style="order: 0; height: 1em"><button>zero</button></li>
					<li style="order: 1; height: 2em"><input value="one"/></li>
					<li style="order: 2; height: 3em">two</li>
					<li sortable="false" style="order: 3; height: 4em">three</li>
					<li style="order: 4; height: 5em">four</li>
					<strong style="order: 5;">five</strong>
					<li style="order: 6; height: 7em">six</li>
					<li style="order: 7; height: 8em">seven</li>
					<li style="order: 8; height: 9em">eight</li>
			    	<button style="order: 9;">nine</button>
				</my-tasks>
			</section>
			<footer id="footer">
				<dl>
					<dt>my-tasks<strong>.order</strong></dt>
					<dd>order of sorted items<br/><strong id="newOrder"></strong></dd>
					<dt>my-tasks<strong>@change</strong></dt>
					<dd>event triggered after every change<br/><strong id="change"></strong></dd>
				</dl>
			</footer>
		</section>

    <script>
    document.addEventListener('DOMContentLoaded', function() {

		document.querySelector('my-tasks').addEventListener('change', function(e) {
			document.querySelector('#newOrder').innerHTML = e.detail.order;
			document.querySelector('#change').innerHTML = JSON.stringify(e.detail);
			console.log("order changed:", e.detail);
		});
		document.querySelector('button').addEventListener('click', function(e) {
			document.querySelector('my-tasks').style["flex-direction"] = 
				document.querySelector('my-tasks').style["flex-direction"] == "column"?
					"row" : "column";
		});
      // Needed to detect model changes if Object.observe
      // is not available in the JS VM.
      Platform.performMicrotaskCheckpoint();
    });
    </script>

	</body>
</html>